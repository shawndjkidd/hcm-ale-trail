<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HCM Ale Trail</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * { -webkit-tap-highlight-color: transparent; box-sizing: border-box; }
        body { margin: 0; padding: 0; background-color: #dc2626; }
        html, body { overflow-x: hidden; }
    </style>
</head>
<body>
    <div id="root"></div>
    <script>
const e = React.createElement;
const { useState, useEffect } = React;

const block = { fontFamily: 'Impact, Haettenschweiler, "Arial Black", sans-serif', fontWeight: 900, letterSpacing: '-1px', textTransform: 'uppercase' };
const breweryBlock = { ...block, letterSpacing: '-2px', lineHeight: '0.9' };

const Instagram = ({size=24}) => e('svg', {width:size,height:size,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}, e('rect',{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}), e('path',{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}), e('line',{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"}));
const Facebook = ({size=24}) => e('svg', {width:size,height:size,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}, e('path',{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"}));
const Messenger = ({size=24}) => e('svg', {width:size,height:size,viewBox:"0 0 24 24",fill:"currentColor"}, e('path',{d:"M12 2C6.36 2 2 6.13 2 11.7c0 2.91 1.19 5.44 3.14 7.17.16.13.26.35.27.57l.05 1.78c.04.57.61.94 1.13.71l1.98-.87c.17-.08.36-.1.55-.06.91.25 1.87.38 2.88.38 5.64 0 10-4.13 10-9.7C22 6.13 17.64 2 12 2zm5.89 7.58l-2.89 4.58c-.45.73-1.44.91-2.13.39l-2.3-1.72a.6.6 0 0 0-.72 0l-3.1 2.36c-.41.32-.96-.17-.68-.61l2.89-4.58c.45-.73 1.44-.91 2.13-.39l2.3 1.72a.6.6 0 0 0 .72 0l3.1-2.36c.41-.32.96.17.68.61z"}));
const Copy = ({size=24}) => e('svg', {width:size,height:size,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}, e('rect',{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}), e('path',{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}));

function App() {
  const [stamps, setStamps] = useState(() => {
    try { return JSON.parse(localStorage.getItem('aletrail_stamps')) || []; } catch { return []; }
  });
  const [selected, setSelected] = useState(null);
  const [lang, setLang] = useState('en');
  const [code, setCode] = useState('');
  const [error, setError] = useState('');
  const [showFaq, setShowFaq] = useState(false);
  const [showQR, setShowQR] = useState(false);
  const [copied, setCopied] = useState(false);
  const [autoStamped, setAutoStamped] = useState(false);

  // Save stamps to localStorage
  useEffect(() => {
    localStorage.setItem('aletrail_stamps', JSON.stringify(stamps));
  }, [stamps]);

  // Check URL for QR code auto-stamp
  useEffect(() => {
    const params = new URLSearchParams(window.location.search);
    const stampId = parseInt(params.get('stamp'));
    const stampCode = params.get('code');
    if (stampId && stampCode && codes[stampId] === stampCode.toUpperCase()) {
      if (!stamps.includes(stampId)) {
        setStamps(prev => [...prev, stampId]);
        setAutoStamped(true);
        const b = breweries.find(x => x.id === stampId);
        if (b) setSelected(b);
      }
      window.history.replaceState({}, '', window.location.pathname);
    }
  }, []);

  const links = { website: 'https://www.hochiminhaletrail.com/', maps: 'https://www.google.com/maps/d/u/1/viewer?usp=sharing&mid=1ZO-30TD2syibuwwqGF7wDxwHACOEsBQ', ig: 'https://www.instagram.com/hcm.aletrail/', msg: 'https://www.messenger.com/login.php?next=https%3A%2F%2Fwww.messenger.com%2Ft%2F115480196509607%2F' };
  const codes = { 1:'BIACRAFT2024', 2:'DARKNESS2024', 3:'DEME2024', 4:'STEERSMAN2024', 5:'EASTWEST2024', 6:'ROOSTER2024', 7:'BRIDGES2024', 8:'BELGO2024' };
  
  const txt = {
    en: { stamps:"STAMPS", done:"DONE!", go:"GO!", code:"CODE", web:"WEBSITE", maps:"MAPS", faq:"FAQ", how:"HOW TO PLAY", s1:"GO TO ANY BREWERY", s2:"BUY BEER & GET:", s2a:"QR CODE", s2b:"OR SECRET CODE", s3:"GET STAMP!", s4:"8 STAMPS = FREE HAT!", rush:"NO RUSH!", scan:"SCAN QR", ask:"ASK FOR QR!", ok:"OK!", nope:"NOPE!", copy:"Â© 2024 HCM ALE TRAIL", copyTag:"COPY TAGS", copied:"COPIED!", welcome:"Welcome to the HCM Ale Trail! Visit 8 awesome taprooms across Saigon. Buy a drink, collect a stamp, and get a free Ale Trail hat at your last stop! No deadline â€” do it in a day or a year." },
    vi: { stamps:"TEM", done:"XONG!", go:"OK!", code:"MÃƒ", web:"WEBSITE", maps:"MAPS", faq:"FAQ", how:"CÃCH CHÆ I", s1:"Äáº¾N QUÃN BIA", s2:"MUA BIA & Láº¤Y:", s2a:"MÃƒ QR", s2b:"HOáº¶C MÃƒ Sá»", s3:"NHáº¬N TEM!", s4:"8 TEM = MÅ¨ FREE!", rush:"Tá»ª Tá»ª!", scan:"QUÃ‰T QR", ask:"Há»ŽI MÃƒ QR!", ok:"OK!", nope:"SAI!", copy:"Â© 2024 ALE TRAIL", copyTag:"COPY TAGS", copied:"COPIED!", welcome:"ChÃ o má»«ng Ä‘áº¿n HCM Ale Trail! GhÃ© 8 quÃ¡n bia thá»§ cÃ´ng á»Ÿ SÃ i GÃ²n. Mua bia, láº¥y tem, Ä‘á»•i mÅ© miá»…n phÃ­! KhÃ´ng giá»›i háº¡n thá»i gian." },
    ko: { stamps:"ìŠ¤íƒ¬í”„", done:"ì™„ë£Œ!", go:"í™•ì¸!", code:"ì½”ë“œ", web:"WEBSITE", maps:"MAPS", faq:"FAQ", how:"ë°©ë²•", s1:"ì–‘ì¡°ìž¥ ë°©ë¬¸", s2:"ë§¥ì£¼ & ë°›ê¸°:", s2a:"QR ì½”ë“œ", s2b:"ë˜ëŠ” ë¹„ë°€ì½”ë“œ", s3:"ìŠ¤íƒ¬í”„!", s4:"8ê°œ = ë¬´ë£Œëª¨ìž!", rush:"ì²œì²œížˆ!", scan:"QRìŠ¤ìº”", ask:"QR ìš”ì²­!", ok:"OK!", nope:"ì˜¤ë¥˜!", copy:"Â© 2024 HCM", copyTag:"COPY", copied:"OK!", welcome:"HCM Ale Trailì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤! ì‚¬ì´ê³µì˜ 8ê°œ íƒ­ë£¸ì„ ë°©ë¬¸í•˜ì„¸ìš”." },
    ja: { stamps:"ã‚¹ã‚¿ãƒ³ãƒ—", done:"å®Œäº†!", go:"OK!", code:"ã‚³ãƒ¼ãƒ‰", web:"WEBSITE", maps:"MAPS", faq:"FAQ", how:"éŠã³æ–¹", s1:"é†¸é€ æ‰€ã¸è¡Œã", s2:"ãƒ“ãƒ¼ãƒ«è²·ã£ã¦:", s2a:"QRã‚³ãƒ¼ãƒ‰", s2b:"ã¾ãŸã¯ç§˜å¯†ã‚³ãƒ¼ãƒ‰", s3:"ã‚¹ã‚¿ãƒ³ãƒ—!", s4:"8å€‹=ç„¡æ–™å¸½å­!", rush:"ã‚†ã£ãã‚Š!", scan:"QRã‚¹ã‚­ãƒ£ãƒ³", ask:"QRèžã„ã¦!", ok:"OK!", nope:"é•ã†!", copy:"Â© 2024 HCM", copyTag:"COPY", copied:"OK!", welcome:"HCM Ale Trailã¸ã‚ˆã†ã“ãï¼ã‚µã‚¤ã‚´ãƒ³ã®8ã¤ã®ã‚¿ãƒƒãƒ—ãƒ«ãƒ¼ãƒ ã‚’è¨ªã‚Œã¦ãã ã•ã„ã€‚" }
  };
  const t = txt[lang];

  const flags = [
    { c:'en', f:'https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/Flag_of_the_United_Kingdom_%283-5%29.svg/1024px-Flag_of_the_United_Kingdom_%283-5%29.svg.png' },
    { c:'vi', f:'https://upload.wikimedia.org/wikipedia/commons/thumb/2/21/Flag_of_Vietnam.svg/2560px-Flag_of_Vietnam.svg.png' },
    { c:'ko', f:'https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/Flag_of_South_Korea.svg/1200px-Flag_of_South_Korea.svg.png' },
    { c:'ja', f:'https://upload.wikimedia.org/wikipedia/en/thumb/9/9e/Flag_of_Japan.svg/1200px-Flag_of_Japan.svg.png' }
  ];

  const breweries = [
    { id:1, name:"BIACRAFT", dist:"District 3", addr:"ðŸ“ 1 Le Ngo Cat, District 3", tagline:"Funky names, creative food, and the OG craft beer hangout.", logo:"https://lh3.googleusercontent.com/sitesv/AAzXCkdK7Ckh29Bn9ivYjVNAlJWTyN9PslADW92zaCphCTvvddAEnCSxi_dlY2iMY5clflVN1yXCMdbq2AVVO_ioqKx1dnw5DeOEkBnV7Eo_atNA8_YYr8gV2anEALnH7Ci0AlV710hBPf3vOEYmT0FhYOf2ZbiUKS-NfsOPf6Sy1f_x1Ncn8Odmv0Ec=w1280", ig:"https://www.instagram.com/biacraftartisanales/", fb:"https://facebook.com/biacraft", tags:"#hcmaletrail @biacraftartisanales" },
    { id:2, name:"HEART OF DARKNESS", dist:"District 1", addr:"ðŸ“ 31D Ly Tu Trong, District 1", tagline:"Bold beers, bold branding. Known for IPAs, stouts, and indie taproom vibe.", logo:"https://lh3.googleusercontent.com/sitesv/AAzXCkdDal3ZRQ0-YCuLFCERn5sfV3zjleSH-50uCOFbQgeLBNGoWqluNGNfh7zAtFCQkeLbZ642_ay83YPNhpIWc-kq_u2_tg_rI-Kmwc45_-x5YQ3HPghm0_HD1eQPF4UknWmK61Q2Dzql4maOKWwZtO-x3a5d6Ahhn7pr625DX0NJpERvWB2q_BgY_Co=w1280", ig:"https://instagram.com/heartofdarknessbrewery", fb:"https://facebook.com/HeartOfDarknessBrewery", tags:"#hcmaletrail @heartofdarknessbrewery" },
    { id:3, name:"DEME", dist:"District 3", addr:"ðŸ“ 201B Nam Ky Khoi Nghia, District 3", tagline:"Underground feel with clean, small-batch brews. A local hidden gem.", logo:"https://lh3.googleusercontent.com/sitesv/AAzXCkdZ2wqJkHlpA-r3oUWGRR8ORdu_ZlMxIfm-LR00eo0HxUB7QJvH4H1rqOOAY9iEpmm8YGkJdEpGUCRR5K8juFwsqZ1K6Ptuyptn1wsMRYfDqqzuRFB2nFwUJlmcITxc_w9dBpJOZOzO2AIEUHZq2f8Fwb3cRv3A6aFONpvCKwWt3Nk2-DmEMZOsytQ=w1280", ig:"https://instagram.com/demebrewing", fb:"https://facebook.com/demebrewing", tags:"#hcmaletrail @demebrewing" },
    { id:4, name:"STEERSMAN", dist:"Tan Binh", addr:"ðŸ“ 18B Cong Hoa, Tan Binh", tagline:"Approachable beers and chill vibes. Great for groups and newcomers.", logo:"https://lh3.googleusercontent.com/sitesv/AAzXCkf7k0Vs-ZyX2tCPnel531ZobxtdWA4bFdDXolqBsigbrB1eciN4oWcTTMcmD-T6CEtPnt3fvmxunZpSQczX32LOepHUUDpiEalgMsVhtotX7dTo2CBcIXr4MYuk4nv92VXLgbX2exbNIv32gHTtHOKWGfuS9p3PbW6qZ-3W4HNc7XNF_MeA3PlMvKY=w1280", ig:"https://instagram.com/steersmanbrewery", fb:"https://facebook.com/steersmanbrewery", tags:"#hcmaletrail @steersmanbrewery" },
    { id:5, name:"EAST WEST", dist:"District 1", addr:"ðŸ“ 181-185 Ly Tu Trong, District 1", tagline:"Sleek brewhouse with bold beers, food, and rooftop. Award-winning!", logo:"https://lh3.googleusercontent.com/sitesv/AAzXCkdkQ7DIUeqpmOGC1jjZ_guFx6ZZeAPL6bCZIYy2l2KRybNHviagKuZXZnqCYeJw7XKkT5RDTIzL0UoQUZmTQ1BJRcGM5WQ0GGi_arfGg7gZQanAyysq_sMotaymA5kG61trRNhhKA0l_uXEY1kDlClBENoNON17ZAhXC8VKBVGd-tmSBA0Fas5AM88=w1280", ig:"https://instagram.com/eastwestbrewing", fb:"https://facebook.com/eastwestbrewery", tags:"#hcmaletrail @eastwestbrewing" },
    { id:6, name:"ROOSTER", dist:"District 1", addr:"ðŸ“ 31 Ho Huan Nghiep, District 1", tagline:"Casual and affordable with clean styles. Great for local vibes.", logo:"https://lh3.googleusercontent.com/sitesv/AAzXCke6ZXB89vvBUEWhAOaAA9G1lC4_MsvZ4b8Hx_Q-r9FQnyKW0HjV5m9ggg9ZU6byWxtbx5x8uyBsv8r9j97jozow6nl9uZoiz8C_OHFWDSkcf2SRsFzQ09UbdrdfA-4cKvarEr4wUUm-58iZm04vrIkqPo1B-wmO6MobivQvMy9gK3evra6oybGaSlA=w1280", ig:"https://instagram.com/roosterbeers", fb:"https://facebook.com/roosterbeers", tags:"#hcmaletrail @roosterbeers" },
    { id:7, name:"7 BRIDGES", dist:"District 1", addr:"ðŸ“ 25 Ly Tu Trong, District 1", tagline:"Born in Da Nang, focused on sustainability. Always something new!", logo:"https://lh3.googleusercontent.com/sitesv/AAzXCkcaFLgzmPjSp2MEKO6vUSgAReQHE8f8VYbxeJd0ph-o8l_mOOPaKoJluvOvTDS9ytC0N1_3g2kpvKiL88O9gA_Vm2ZsIYWfl9fSKEBdx_xVHzDQGcqiuq5zFZ-IH_ADMqofO7EwfZhHXF2SxEjZkru9kYZoL82dzFPhgGxyFyv1Qep47qzouNGlAjg=w1280", ig:"https://instagram.com/7bridgesbrewing", fb:"https://facebook.com/7BridgesBrewingCo", tags:"#hcmaletrail @7bridgesbrewing" },
    { id:8, name:"BELGO", dist:"District 1", addr:"ðŸ“ 159A Nguyen Van Thu, District 1", tagline:"Rich Belgian-style beers in a medieval space. Perfect for big pours.", logo:"https://lh3.googleusercontent.com/sitesv/AAzXCkfpeHaQ7DOVCrkiTbALlX3kjWHlMcO8ilBlxeVBC6rWBubr_YJ1izhjGGbyS92pyLDX0UXhbQfykzCWltoAnDvoGtLLhT63Lyww_2j3QwONC-LJhGDg4PemxOaqF8xwOtKGiBmdTWfLVPc8ihdNaXFDED_4CA85c6bbWlGhENPpExnslVEkH3F-aCk=w1280", ig:"https://instagram.com/belgosaigon", fb:"https://facebook.com/belgosaigon", tags:"#hcmaletrail @belgosaigon" }
  ];

  const validate = () => {
    if (codes[selected.id] === code.toUpperCase().trim()) {
      setStamps(prev => [...prev, selected.id]);
      setCode(''); setError(''); setSelected(null);
    } else setError(t.nope);
  };

  const copyTags = (tags) => {
    navigator.clipboard.writeText(tags).then(() => {
      setCopied(true);
      setTimeout(() => setCopied(false), 2000);
    });
  };

  const prog = (stamps.length / 8) * 100;

  // FLAGS
  const flagBtns = flags.map(f => 
    e('button', { key:f.c, onClick:()=>setLang(f.c), className:`${lang===f.c?'ring-4 ring-yellow-400 scale-110':'opacity-50'} w-16 h-10 border-2 border-black overflow-hidden transition-all` },
      e('img', { src:f.f, className:'w-full h-full object-cover' })
    )
  );

  // BREWERY LIST
  const breweryList = breweries.map(b => {
    const has = stamps.includes(b.id);
    return e('div', { key:b.id, onClick:()=>setSelected(b), className:`${has?'bg-yellow-400':'bg-white'} border-4 border-black cursor-pointer active:scale-[0.98] transition-all` },
      e('div', { className:'flex items-center h-24' },
        e('div', { className:`${has?'bg-green-600':'bg-red-600'} w-16 h-full flex items-center justify-center flex-shrink-0` },
          e('span', { className:'text-4xl text-yellow-400', style:block }, b.id)
        ),
        e('div', { className:'flex-1 px-2 py-1 flex flex-col justify-center min-w-0' },
          e('h3', { className:'text-2xl sm:text-3xl md:text-4xl text-red-600 truncate', style:breweryBlock }, b.name),
          e('p', { className:'text-sm sm:text-base text-red-500', style:block }, b.dist)
        ),
        e('div', { className:'w-20 h-full flex items-center justify-center border-l-4 border-black border-dashed flex-shrink-0 p-1' },
          e('div', { className:`w-16 h-16 rounded-full overflow-hidden border-2 ${has?'border-green-500':'border-gray-300'} bg-white flex items-center justify-center relative` },
            e('img', { src:b.logo, className:`w-full h-full object-cover ${has?'':'opacity-40 grayscale'}`, onError:(ev)=>{ev.target.style.display='none';} }),
            has && e('div', { className:'absolute bottom-0 right-0 bg-green-500 rounded-full w-5 h-5 flex items-center justify-center border border-white' },
              e('span', { className:'text-white text-xs font-bold' }, 'âœ“')
            )
          )
        )
      )
    );
  });

  // FAQ MODAL
  const faqModal = showFaq && e('div', { className:'fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4' },
    e('div', { className:'bg-yellow-400 w-full max-w-sm border-4 border-black relative' },
      e('button', { onClick:()=>setShowFaq(false), className:'absolute top-2 right-2 bg-red-600 text-yellow-400 w-10 h-10 flex items-center justify-center border-4 border-black text-2xl z-10', style:block }, 'X'),
      e('div', { className:'p-3 pt-10' },
        e('h2', { className:'text-3xl text-center text-red-600 mb-3', style:block }, t.how),
        e('div', { className:'space-y-2' },
          e('div', { className:'bg-red-600 border-2 border-black p-2 flex items-center gap-2' }, e('span',{className:'text-3xl text-yellow-400 w-10',style:block},'1'), e('span',{className:'text-lg text-yellow-400 flex-1',style:block},t.s1)),
          e('div', { className:'bg-red-600 border-2 border-black p-2 flex items-center gap-2' }, e('span',{className:'text-3xl text-yellow-400 w-10',style:block},'2'), e('div',{className:'flex-1'}, e('span',{className:'text-lg text-yellow-400 block',style:block},t.s2), e('span',{className:'text-sm text-yellow-300',style:block},t.s2a+' / '+t.s2b))),
          e('div', { className:'bg-red-600 border-2 border-black p-2 flex items-center gap-2' }, e('span',{className:'text-3xl text-yellow-400 w-10',style:block},'3'), e('span',{className:'text-lg text-yellow-400 flex-1',style:block},t.s3)),
          e('div', { className:'bg-green-600 border-2 border-black p-2 flex items-center gap-2' }, e('span',{className:'text-3xl text-white w-10',style:block},'4'), e('span',{className:'text-lg text-white flex-1',style:block},t.s4))
        ),
        e('div', { className:'bg-black border-2 border-yellow-400 p-2 mt-2' }, e('p',{className:'text-xl text-yellow-400 text-center',style:block},t.rush)),
        e('button', { onClick:()=>setShowFaq(false), className:'w-full bg-red-600 text-yellow-400 py-3 mt-2 text-3xl border-4 border-black', style:block }, t.ok)
      )
    )
  );

  // QR MODAL
  const qrModal = showQR && e('div', { className:'fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4' },
    e('div', { className:'bg-yellow-400 w-full max-w-sm border-4 border-black relative' },
      e('button', { onClick:()=>setShowQR(false), className:'absolute top-2 right-2 bg-red-600 text-yellow-400 w-10 h-10 flex items-center justify-center border-4 border-black text-2xl z-10', style:block }, 'X'),
      e('div', { className:'p-3 pt-10' },
        e('div', { className:'bg-white border-4 border-black p-4 mb-2 text-center' }, e('div',{className:'text-6xl'},'ðŸ“±'), e('p',{className:'text-2xl text-black mt-2',style:block},t.ask)),
        e('div', { className:'bg-red-600 border-2 border-black p-3 mb-2' },
          e('p',{className:'text-lg text-yellow-400',style:block},'â€¢ iPHONE â†’ CAMERA'),
          e('p',{className:'text-lg text-yellow-400',style:block},'â€¢ ANDROID â†’ LENS'),
          e('p',{className:'text-lg text-yellow-400',style:block},'â€¢ POINT â†’ TAP â†’ DONE!')
        ),
        e('button', { onClick:()=>setShowQR(false), className:'w-full bg-green-600 text-white py-4 text-3xl border-4 border-black', style:block }, t.ok)
      )
    )
  );

  // BREWERY MODAL
  const breweryModal = selected && e('div', { className:'fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-2' },
    e('div', { className:'bg-yellow-400 w-full max-w-sm border-4 border-black relative max-h-[90vh] overflow-y-auto' },
      e('button', { onClick:()=>{setSelected(null);setCode('');setError('');setCopied(false);setAutoStamped(false);}, className:'absolute top-2 right-2 bg-red-600 text-yellow-400 w-10 h-10 flex items-center justify-center border-4 border-black text-2xl z-10', style:block }, 'X'),
      e('div', { className:'p-3 pt-12' },
        // Auto-stamped message
        autoStamped && stamps.includes(selected.id) && e('div', { className:'bg-green-600 border-4 border-black p-3 mb-2 text-center' },
          e('p', { className:'text-2xl text-white', style:block }, 'ðŸŽ‰ STAMP COLLECTED!')
        ),
        // QR Button
        e('button', { onClick:()=>setShowQR(true), className:'w-full bg-white border-4 border-red-600 p-3 mb-2 active:scale-95 transition-all' },
          e('div',{className:'text-5xl text-center'},'ðŸ“±'),
          e('p',{className:'text-2xl text-red-600 text-center',style:block},t.scan)
        ),
        // Name & Tagline
        e('div', { className:'bg-red-600 border-4 border-black p-3 mb-2' },
          e('h2',{className:'text-2xl sm:text-3xl text-yellow-400 text-center',style:breweryBlock},selected.name),
          e('p',{className:'text-sm text-yellow-300 mt-1 text-center'},selected.addr),
          e('p',{className:'text-xs text-yellow-200 mt-2 text-center italic'},selected.tagline)
        ),
        // Social buttons
        e('div', { className:'flex gap-2 mb-2' },
          e('a', { href:selected.ig, target:'_blank', rel:'noopener noreferrer', className:'flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 text-xl border-2 border-black flex items-center justify-center gap-1 active:scale-95 transition-all', style:block }, e(Instagram,{size:20}), 'IG'),
          e('a', { href:selected.fb, target:'_blank', rel:'noopener noreferrer', className:'flex-1 bg-blue-600 text-white py-3 text-xl border-2 border-black flex items-center justify-center gap-1 active:scale-95 transition-all', style:block }, e(Facebook,{size:20}), 'FB')
        ),
        // Copy tags
        e('div', { className:'bg-black border-2 border-yellow-400 p-2 mb-2' },
          e('p',{className:'text-xs text-yellow-400 text-center mb-1 font-mono'},selected.tags),
          e('button', { onClick:()=>copyTags(selected.tags), className:`w-full ${copied?'bg-green-600 text-white':'bg-yellow-400 text-black'} py-2 text-lg border-2 border-black flex items-center justify-center gap-1 active:scale-95 transition-all`, style:block }, e(Copy,{size:18}), copied?t.copied:t.copyTag)
        ),
        // Code entry or validated
        !stamps.includes(selected.id) ? 
          e('div', null,
            e('p',{className:'text-2xl text-red-600 text-center mb-1',style:block},'â€” '+t.code+' â€”'),
            e('input', { type:'password', value:code, onChange:ev=>{setCode(ev.target.value);setError('');}, onKeyPress:ev=>{if(ev.key==='Enter')validate();}, className:'w-full px-3 py-3 text-2xl text-center uppercase border-4 border-black mb-1 bg-black text-yellow-400', style:{...block,letterSpacing:'6px'}, placeholder:'****', maxLength:'20' }),
            error && e('p',{className:'text-center text-xl text-red-600 mb-1',style:block},'âŒ '+error),
            e('button', { onClick:validate, className:'w-full bg-green-600 text-white py-4 text-3xl border-4 border-black active:scale-95 transition-all', style:block }, t.go)
          ) :
          e('div', { className:'bg-green-600 border-4 border-black p-4 text-center' },
            e('div',{className:'w-20 h-20 mx-auto rounded-full overflow-hidden border-2 border-white bg-white mb-2'},e('img',{src:selected.logo,className:'w-full h-full object-cover'})),
            e('p',{className:'text-3xl text-white',style:block},t.done)
          )
      )
    )
  );

  return e('div', { className:'min-h-screen bg-red-600 p-2' },
    e('div', { className:'max-w-md mx-auto' },
      // FLAGS
      e('div', { className:'flex justify-center gap-1 mb-2' }, flagBtns),
      // HEADER
      e('div', { className:'bg-yellow-400 border-4 border-black p-2 mb-2 text-center' },
        e('h1', { className:'text-3xl sm:text-4xl md:text-5xl text-red-600 leading-none', style:{...block,letterSpacing:'0.15em'} }, 'HCM ALE TRAIL'),
        e('p', { className:'text-xs text-red-700 mt-2 px-2', style:{fontFamily:'sans-serif', fontWeight:'normal', textTransform:'none', letterSpacing:'normal'} }, t.welcome)
      ),
      // STAMPS COUNTER
      e('div', { className:'bg-black border-4 border-yellow-400 p-2 mb-2' },
        e('div', { className:'flex items-center justify-between' },
          e('span', { className:'text-2xl sm:text-3xl text-yellow-400', style:block }, t.stamps),
          e('span', { className:'text-3xl sm:text-4xl text-yellow-400', style:block }, stamps.length+'/8')
        ),
        e('div', { className:'h-3 bg-red-900 border border-yellow-400 mt-1' },
          e('div', { className:'h-full bg-green-500 transition-all', style:{width:prog+'%'} })
        )
      ),
      // BUTTONS ROW 1 - Same size
      e('div', { className:'grid grid-cols-3 gap-1 mb-1' },
        e('button', { onClick:()=>setShowFaq(true), className:'bg-yellow-400 text-red-600 py-2 text-lg border-4 border-black active:scale-95 transition-all', style:block }, t.faq),
        e('a', { href:links.website, target:'_blank', rel:'noopener noreferrer', className:'bg-black text-yellow-400 py-2 text-lg border-4 border-yellow-400 active:scale-95 transition-all text-center flex items-center justify-center', style:block }, t.web),
        e('a', { href:links.maps, target:'_blank', rel:'noopener noreferrer', className:'bg-green-600 text-white py-2 text-lg border-4 border-black active:scale-95 transition-all text-center flex items-center justify-center', style:block }, t.maps)
      ),
      // BUTTONS ROW 2 - Same size
      e('div', { className:'grid grid-cols-2 gap-1 mb-2' },
        e('a', { href:links.ig, target:'_blank', rel:'noopener noreferrer', className:'bg-gradient-to-r from-purple-600 via-pink-600 to-orange-500 text-white py-2 text-base border-4 border-black active:scale-95 transition-all text-center flex items-center justify-center gap-1', style:block }, e(Instagram,{size:20}), 'INSTAGRAM'),
        e('a', { href:links.msg, target:'_blank', rel:'noopener noreferrer', className:'bg-blue-500 text-white py-2 text-base border-4 border-black active:scale-95 transition-all text-center flex items-center justify-center gap-1', style:block }, e(Messenger,{size:20}), 'MESSENGER')
      ),
      // BREWERY LIST
      e('div', { className:'space-y-1' }, breweryList),
      // FOOTER
      e('div', { className:'mt-2 text-center' }, e('p',{className:'text-lg text-yellow-400',style:block},t.copy))
    ),
    faqModal,
    qrModal,
    breweryModal
  );
}

ReactDOM.render(e(App), document.getElementById('root'));
    </script>
</body>
</html>
